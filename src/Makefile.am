SUBDIRS =

AM_CFLAGS = \
	$(WARN_CFLAGS) \
	-I./ \
	-I$(top_srcdir) \
	-I$(top_srcdir)/src \
	$(PTHREADSTUBS_CFLAGS) \
	@LIBTBM_CFLAGS@

libtbm_la_LTLIBRARIES = libtbm.la
libtbm_ladir = $(libdir)
libtbm_la_LDFLAGS = -version-number 1:0:0 -no-undefined
libtbm_la_LIBADD = @LIBTBM_LIBS@ @PTHREADSTUBS_LIBS@ @CLOCK_LIB@ -ldl

libtbm_la_SOURCES =

if HAVE_TBM_PLATFORM_X11
    libtbm_la_SOURCES += \
	    tbm_x11.c
endif

if HAVE_TBM_PLATFORM_WAYLAND
    libtbm_la_SOURCES += \
	    tbm_wayland.c
endif

libtbm_la_SOURCES += \
	tbm_surface_internal.c \
	tbm_surface.c \
	tbm_surface_queue.c \
	tbm_bufmgr_backend.c \
	tbm_bufmgr.c

libtbmincludedir=$(includedir)
libtbminclude_HEADERS = tbm_bufmgr.h tbm_surface.h tbm_bufmgr_backend.h tbm_type.h tbm_surface_internal.h tbm_surface_queue.h

